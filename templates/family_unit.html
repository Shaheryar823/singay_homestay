{% extends "layout.html" %}
{% block content %}

<!-- Hero Section -->
<section 
  class="relative h-screen bg-cover bg-center flex items-center"
  style="background-image: url('/static/images/tvlounge.webp');">

  <div class="absolute inset-0 bg-gradient-to-b from-black/60 to-black/30"></div>

  <div class="relative z-10 w-full flex flex-col md:flex-row items-center justify-between px-6 md:px-10">

    <!-- LEFT -->
    <div class="max-w-xl text-white">

      <div class="flex flex-wrap items-center gap-2 md:gap-3 mb-3 md:mb-4">
        <span class="px-3 py-1 md:px-4 md:py-1 bg-yellow-500 text-black rounded-full text-xs md:text-sm font-semibold shadow">
          Family Unit
        </span>
        <span class="px-3 py-1 md:px-4 md:py-1 bg-white/20 border border-white/20 backdrop-blur-md rounded-full text-xs md:text-sm">
          Cozy & Private
        </span>
      </div>

      <h1 class="text-3xl md:text-6xl font-bold leading-tight drop-shadow-lg">
        Stay in Our <span class="text-yellow-400">Family Suite</span>
      </h1>

      <p class="text-sm md:text-lg mt-3 md:mt-4 opacity-90 drop-shadow">
        A compact, comfortable, and private unit ideal for families seeking peaceful stays.
      </p>
    </div>

    <!-- RIGHT: Booking CTA -->
    <div class="bg-white p-5 md:p-6 rounded-2xl shadow-2xl w-full max-w-md mt-8 md:mt-0 md:ml-10">
      <h3 class="text-xl md:text-2xl font-semibold mb-2 md:mb-3 text-gray-800">Book Your Villa</h3>
      <p class="text-gray-600 mb-3 md:mb-4 text-xs md:text-sm">Experience the villa lifestyle in Skardu.</p>

      <form action="/check-availability" method="POST" class="space-y-3 md:space-y-4">

        <!-- Hidden room type -->
        <input type="hidden" name="room_type" value="family-unit">

        <div>
            <label class="text-xs md:text-sm text-gray-700">Check-in</label>
            <input name="check_in" type="date" required 
                  class="w-full p-2 md:p-3 border rounded-md focus:ring-2 focus:ring-yellow-400"
                  min="{{today}}">
        </div>

        <div>
            <label class="text-xs md:text-sm text-gray-700">Check-out</label>
            <input name="check_out" type="date" required
                  class="w-full p-2 md:p-3 border rounded-md focus:ring-2 focus:ring-yellow-400"
                  min="{{today}}">
        </div>

        <div>
            <label class="text-xs md:text-sm text-gray-700">Guests</label>
            <input name="guests" type="number" min="1" value="1" required
                  class="w-full p-2 md:p-3 border rounded-md focus:ring-2 focus:ring-yellow-400">
        </div>

        <button class="w-full bg-yellow-500 text-black py-2 md:py-3 rounded-lg font-semibold hover:bg-yellow-600 transition text-sm md:text-base">
            Check Availability
        </button>

    </form>

    </div>
  </div>
</section>

<!-- Summary Section -->
<section class="py-20 bg-black text-white">
  <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-10 items-center">

    <!-- Text -->
    <div>
      <h2 class="text-4xl font-bold mb-4">Family Unit – Cozy & Comfortable</h2>
      <p class="text-gray-300 leading-relaxed mb-6">
        Perfect for small families, this unit provides comfort, privacy, and essential amenities 
        to make your stay pleasant and relaxing.
      </p>

      <ul class="space-y-2 text-gray-200">
        <li>• Sleeps: 4–6 guests</li>
        <li>• Bedrooms: 2 rooms</li>
        <li>• Bath: 2 private bathroom</li>
        <li>• View: Orchard + Mountainline</li>
        <li>• Location: Skardu, Gilgit-Baltistan</li>
      </ul>
    </div>

    <!-- Price Box -->
    <div class="bg-white/10 p-8 rounded-3xl border border-white/10 shadow-xl">
      <h3 class="text-3xl font-semibold mb-2">PKR 15,000</h3>
      <p class="text-gray-300 mb-6 text-sm">Per night • Seasonal pricing applies</p>

      <a onclick="openPopup('family-unit')"
         class="inline-block bg-white text-black font-semibold px-6 py-3 rounded-xl hover:bg-gray-200 transition cursor-pointer">
        Book Your Stay
      </a>
    </div>

  </div>
</section>

<!-- Amenities Section -->
<section id="unit-features" class="relative py-24 bg-black text-white overflow-hidden">
  <div class="relative max-w-7xl mx-auto px-6">

    <!-- Header -->
    <div class="text-center mb-12">
      <div class="inline-block px-4 py-1 bg-yellow-500 text-black rounded-full text-sm font-bold tracking-wide">
        Amenities
      </div>
      <h2 class="text-4xl md:text-5xl font-extrabold mt-4">Everything You Need</h2>
      <p class="text-gray-300 mt-3 max-w-2xl mx-auto">
        A small yet well-equipped space designed for peaceful family stays.
      </p>
    </div>

    <!-- Amenity Cards -->
    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">

      {% set amenities = [
          {'title': 'Bedrooms', 'icon': 'fa-solid fa-bed', 'features': ['2 full rooms', 'Soft bedding', 'Cupboards & storage']},
          {'title': 'Bathroom', 'icon': 'fa-solid fa-shower', 'features': ['Clean bathroom', 'Hot & cold water', 'Essential toiletries']},
          {'title': 'Kitchenette', 'icon': 'fa-solid fa-utensils', 'features': ['Basic cooking setup', 'Utensils provided', 'Mini dining area']},
          {'title': 'Lounge', 'icon': 'fa-solid fa-couch', 'features': ['Compact seating area', 'TV available', 'Wi-Fi included']},
          {'title': 'Outdoor Access', 'icon': 'fa-solid fa-tree', 'features': ['Garden access', 'Calm surroundings', 'Fresh orchard air']},
          {'title': 'Extras', 'icon': 'fa-solid fa-star', 'features': ['Free Wi-Fi', 'Parking space', 'Daily cleaning (optional)']}
      ] %}

      {% for amenity in amenities %}
      <div class="bg-white/10 backdrop-blur-xl p-6 rounded-3xl border border-white/10 shadow-xl hover:shadow-2xl transition">
        <div>
          <span class="{{ amenity.icon }} text-4xl mb-2 block"></span>
          <h3 class="text-2xl font-bold">{{ amenity.title }}</h3>
        </div>
        <ul class="text-gray-300 text-sm space-y-1 list-disc list-inside">
          {% for item in amenity.features %}
          <li>{{ item }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endfor %}
    </div>

  </div>
</section>

<!-- Gallery Section -->
<section id="unit-gallery" class="relative py-24 bg-black text-white overflow-hidden">
  <div class="relative max-w-7xl mx-auto px-6">

    <div class="text-center mb-12">
      <div class="inline-block px-4 py-1 bg-yellow-500 text-black rounded-full text-sm font-bold">
        Gallery
      </div>
      <h2 class="text-4xl md:text-5xl font-extrabold mt-4">Peek Inside the Family Unit</h2>
      <p class="text-gray-300 mt-3 max-w-2xl mx-auto">
        A closer look at the cozy and compact interior.
      </p>
    </div>

    <div class="grid sm:grid-cols-3 lg:grid-cols-3 gap-6">

      {% set gallery_items = [
        {'src': '/static/images/room1.webp', 'tag': 'Bedroom'},
        {'src': '/static/images/room2.webp', 'tag': 'Bedroom'},
        {'src': '/static/images/sitting.webp', 'tag': 'Bathroom'},
        {'src': '/static/images/cooking1.webp', 'tag': 'Kitchenette'},
        {'src': '/static/images/tvlounge.webp', 'tag': 'Sitting Area'},
        {'src': '/static/images/bbq.webp', 'tag': 'View'}
      ] %}

      {% for item in gallery_items %}
      <div class="relative overflow-hidden rounded-3xl shadow-2xl border border-white/20 group cursor-pointer">
        <img src="{{ item.src }}" alt="{{ item.tag }}" class="w-full h-64 object-cover group-hover:scale-105 transition duration-700" loading="lazy">
        <span class="absolute top-3 left-3 px-3 py-1 bg-yellow-500 text-black rounded-full text-xs font-semibold">
          {{ item.tag }}
        </span>
      </div>
      {% endfor %}

    </div>

  </div>
</section>

<!-- Location Section -->
<section id="location" class="py-20 bg-black text-white">
  <div class="max-w-6xl mx-auto px-6 text-center">

    <h2 class="text-4xl font-bold mb-6">Location</h2>
    <p class="text-gray-300 max-w-2xl mx-auto mb-10">
      Our Family Unit is located within Singay Homestay premises, surrounded by fruit trees 
      and peaceful views — just minutes away from local attractions.
    </p>

    <div class="relative bg-white/10 border border-white/10 rounded-3xl p-4 shadow-2xl overflow-hidden">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d447.8615996064115!2d75.64528751921016!3d35.28164213502716!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38e4630038e3d53d%3A0xcd6c23ce7cfa3bdd!2sSingay%20Homestay!5e0!3m2!1sen!2s!4v1764514662514!5m2!1sen!2s"
        class="w-full h-[400px] rounded-2xl border-0"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>

  </div>
</section>

<div id="popup" class="fixed inset-0 bg-black/60 hidden items-center justify-center">
  <form action="/check-availability" method="POST" class="bg-white p-6 rounded-xl w-80 space-y-4">
      
      <h2 class="text-xl font-bold">Check Availability</h2>

      <input type="hidden" name="room_type" id="roomTypeInput">

      <label class="block text-sm font-medium">Check-in</label>
      <input type="date" name="check_in" required class="w-full border p-2 rounded" min="{{today}}">

      <label class="block text-sm font-medium">Check-out</label>
      <input type="date" name="check_out" required class="w-full border p-2 rounded" min="{{today}}">

      <button class="w-full bg-yellow-500 font-semibold py-2 rounded">
        Search
      </button>

      <button type="button" onclick="closePopup()" class="w-full mt-2 text-gray-600">
        Cancel
      </button>
  </form>
</div>

{% endblock %}
